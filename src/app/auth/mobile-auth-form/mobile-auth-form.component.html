<ion-content class="ion-padding">
  <form
    [formGroup]="form"
    (ngSubmit)="submit()"
    class="d-flex ion-align-items-center ion-justify-content-center w-100 h-100"
  >
    <div class="d-flex flex-column w-100">
      <h2>{{ headerText }}</h2>
      <wrangler-mobile-input
        label="URL"
        [inputFormControl]="homeserverUrlFormControl"
      >
      </wrangler-mobile-input>
      <ng-container *ngIf="isSignUp | async">
        <wrangler-mobile-input
          label="Displayname"
          [inputFormControl]="form | formGet : 'displayname'"
        >
        </wrangler-mobile-input>
      </ng-container>
      <wrangler-mobile-input
        label="Username"
        [inputFormControl]="form | formGet : 'username'"
      >
      </wrangler-mobile-input>
      <wrangler-mobile-input
        class="mb-2"
        label="Password"
        [inputFormControl]="form | formGet : 'password'"
      >
      </wrangler-mobile-input>

      <div class="d-flex flex-column">
        <wrangler-mobile-button
          expand="block"
          type="submit"
          [buttonText]="primaryButtonText"
        ></wrangler-mobile-button>
        <wrangler-mobile-button
          *appFeature="'enableLocalSignUp'"
          expand="block"
          type="button"
          color="secondary"
          [buttonText]="secondaryButtonText"
          [routerLink]="secondaryButtonRouterLink"
        ></wrangler-mobile-button>
      </div>
    </div>
  </form>
</ion-content>

<ng-template #additionalFields>
  <app-input
    label="Homeserver URL"
    [inputFormControl]="homeserverUrlFormControl"
    [readonly]="true"
  ></app-input>
</ng-template>
