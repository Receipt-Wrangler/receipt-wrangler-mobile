/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
import{d as doc}from"./index-a5d50daf.js";import{u as now,v as pointerCoord}from"./helpers-ae653409.js";var startTapClick=function(e){if(doc===undefined){return}var r=-MOUSE_WAIT*10;var n=0;var t;var i;var a;var o=e.getBoolean("animated",true)&&e.getBoolean("rippleEffect",true);var f=new WeakMap;var u=function(e){r=now(e);E(e)};var c=function(e){r=now(e);A(e)};var v=function(e){if(e.button===2){return}var n=now(e)-MOUSE_WAIT;if(r<n){E(e)}};var d=function(e){var n=now(e)-MOUSE_WAIT;if(r<n){A(e)}};var T=function(){if(a)clearTimeout(a);a=undefined;if(t){D(false);t=undefined}};var E=function(e){if(t){return}s(getActivatableTarget(e),e)};var A=function(e){s(undefined,e)};var s=function(e,r){if(e&&e===t){return}if(a)clearTimeout(a);a=undefined;var n=pointerCoord(r),i=n.x,o=n.y;if(t){if(f.has(t)){throw new Error("internal error")}if(!t.classList.contains(ACTIVATED)){l(t,i,o)}D(true)}if(e){var u=f.get(e);if(u){clearTimeout(u);f.delete(e)}e.classList.remove(ACTIVATED);var c=function(){l(e,i,o);a=undefined};if(isInstant(e)){c()}else{a=setTimeout(c,ADD_ACTIVATED_DEFERS)}}t=e};var l=function(e,r,t){n=Date.now();e.classList.add(ACTIVATED);if(!o)return;var a=getRippleEffect(e);if(a!==null){p();i=a.addRipple(r,t)}};var p=function(){if(i!==undefined){i.then((function(e){return e()}));i=undefined}};var D=function(e){p();var r=t;if(!r){return}var i=CLEAR_STATE_DEFERS-Date.now()+n;if(e&&i>0&&!isInstant(r)){var a=setTimeout((function(){r.classList.remove(ACTIVATED);f.delete(r)}),CLEAR_STATE_DEFERS);f.set(r,a)}else{r.classList.remove(ACTIVATED)}};doc.addEventListener("ionGestureCaptured",T);doc.addEventListener("touchstart",u,true);doc.addEventListener("touchcancel",c,true);doc.addEventListener("touchend",c,true);doc.addEventListener("pointercancel",T,true);doc.addEventListener("mousedown",v,true);doc.addEventListener("mouseup",d,true)};var getActivatableTarget=function(e){if(e.composedPath!==undefined){var r=e.composedPath();for(var n=0;n<r.length-2;n++){var t=r[n];if(!(t instanceof ShadowRoot)&&t.classList.contains("ion-activatable")){return t}}}else{return e.target.closest(".ion-activatable")}};var isInstant=function(e){return e.classList.contains("ion-activatable-instant")};var getRippleEffect=function(e){if(e.shadowRoot){var r=e.shadowRoot.querySelector("ion-ripple-effect");if(r){return r}}return e.querySelector("ion-ripple-effect")};var ACTIVATED="ion-activated";var ADD_ACTIVATED_DEFERS=100;var CLEAR_STATE_DEFERS=150;var MOUSE_WAIT=2500;export{startTapClick};