var FeatureConfigState_1;
import { __decorate, __metadata } from "tslib";
import { Injectable } from '@angular/core';
import { Action, createSelector, Selector, State, } from '@ngxs/store';
import { SetFeatureConfig } from './feature-config.state.actions';
import * as i0 from "@angular/core";
let FeatureConfigState = FeatureConfigState_1 = class FeatureConfigState {
    static enableLocalSignUp(state) {
        return state.enableLocalSignUp;
    }
    static aiPoweredReceipts(state) {
        return state.aiPoweredReceipts;
    }
    static hasFeature(feature) {
        return createSelector([FeatureConfigState_1], (state) => {
            return !!state[feature];
        });
    }
    setFeatureConfig({ patchState }, payload) {
        patchState({
            aiPoweredReceipts: payload.config?.aiPoweredReceipts,
            enableLocalSignUp: payload.config?.enableLocalSignUp,
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.11", ngImport: i0, type: FeatureConfigState, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "16.2.11", ngImport: i0, type: FeatureConfigState }); }
};
__decorate([
    Action(SetFeatureConfig),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object, SetFeatureConfig]),
    __metadata("design:returntype", void 0)
], FeatureConfigState.prototype, "setFeatureConfig", null);
__decorate([
    Selector(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", Boolean)
], FeatureConfigState, "enableLocalSignUp", null);
__decorate([
    Selector(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", Boolean)
], FeatureConfigState, "aiPoweredReceipts", null);
FeatureConfigState = FeatureConfigState_1 = __decorate([
    State({
        name: 'featureConfig',
        defaults: { enableLocalSignUp: true, aiPoweredReceipts: false },
    })
], FeatureConfigState);
export { FeatureConfigState };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.11", ngImport: i0, type: FeatureConfigState, decorators: [{
            type: Injectable
        }], propDecorators: { setFeatureConfig: [] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmVhdHVyZS1jb25maWcuc3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9jb3JlL3NyYy9saWIvc3RvcmUvZmVhdHVyZS1jb25maWcuc3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFDTCxNQUFNLEVBQ04sY0FBYyxFQUNkLFFBQVEsRUFDUixLQUFLLEdBRU4sTUFBTSxhQUFhLENBQUM7QUFFckIsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7O0FBTWxFLElBQ2Esa0JBQWtCLDBCQUQvQixNQUNhLGtCQUFrQjtJQUV0QixBQUFQLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxLQUFvQjtRQUMzQyxPQUFPLEtBQUssQ0FBQyxpQkFBNEIsQ0FBQztJQUM1QyxDQUFDO0lBR00sQUFBUCxNQUFNLENBQUMsaUJBQWlCLENBQUMsS0FBb0I7UUFDM0MsT0FBTyxLQUFLLENBQUMsaUJBQTRCLENBQUM7SUFDNUMsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFVLENBQUMsT0FBZTtRQUMvQixPQUFPLGNBQWMsQ0FBQyxDQUFDLG9CQUFrQixDQUFDLEVBQUUsQ0FBQyxLQUFvQixFQUFFLEVBQUU7WUFDbkUsT0FBTyxDQUFDLENBQUUsS0FBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25DLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUdELGdCQUFnQixDQUNkLEVBQUUsVUFBVSxFQUErQixFQUMzQyxPQUF5QjtRQUV6QixVQUFVLENBQUM7WUFDVCxpQkFBaUIsRUFBRSxPQUFPLENBQUMsTUFBTSxFQUFFLGlCQUFpQjtZQUNwRCxpQkFBaUIsRUFBRSxPQUFPLENBQUMsTUFBTSxFQUFFLGlCQUFpQjtTQUNyRCxDQUFDLENBQUM7SUFDTCxDQUFDOytHQTFCVSxrQkFBa0I7bUhBQWxCLGtCQUFrQjs7QUFrQjdCO0lBREMsTUFBTSxDQUFDLGdCQUFnQixDQUFDOzs2Q0FHZCxnQkFBZ0I7OzBEQU0xQjtBQXhCTTtJQUROLFFBQVEsRUFBRTs7OztpREFHVjtBQUdNO0lBRE4sUUFBUSxFQUFFOzs7O2lEQUdWO0FBVFUsa0JBQWtCO0lBTDlCLEtBQUssQ0FBZ0I7UUFDcEIsSUFBSSxFQUFFLGVBQWU7UUFDckIsUUFBUSxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBRTtLQUNoRSxDQUFDO0dBRVcsa0JBQWtCLENBMkI5QjtTQTNCWSxrQkFBa0I7NEZBQWxCLGtCQUFrQjtrQkFEOUIsVUFBVTs4QkFtQlQsZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgQWN0aW9uLFxuICBjcmVhdGVTZWxlY3RvcixcbiAgU2VsZWN0b3IsXG4gIFN0YXRlLFxuICBTdGF0ZUNvbnRleHQsXG59IGZyb20gJ0BuZ3hzL3N0b3JlJztcbmltcG9ydCB7IEZlYXR1cmVDb25maWcgfSBmcm9tICcuLi9hcGknO1xuaW1wb3J0IHsgU2V0RmVhdHVyZUNvbmZpZyB9IGZyb20gJy4vZmVhdHVyZS1jb25maWcuc3RhdGUuYWN0aW9ucyc7XG5cbkBTdGF0ZTxGZWF0dXJlQ29uZmlnPih7XG4gIG5hbWU6ICdmZWF0dXJlQ29uZmlnJyxcbiAgZGVmYXVsdHM6IHsgZW5hYmxlTG9jYWxTaWduVXA6IHRydWUsIGFpUG93ZXJlZFJlY2VpcHRzOiBmYWxzZSB9LFxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBGZWF0dXJlQ29uZmlnU3RhdGUge1xuICBAU2VsZWN0b3IoKVxuICBzdGF0aWMgZW5hYmxlTG9jYWxTaWduVXAoc3RhdGU6IEZlYXR1cmVDb25maWcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gc3RhdGUuZW5hYmxlTG9jYWxTaWduVXAgYXMgYm9vbGVhbjtcbiAgfVxuXG4gIEBTZWxlY3RvcigpXG4gIHN0YXRpYyBhaVBvd2VyZWRSZWNlaXB0cyhzdGF0ZTogRmVhdHVyZUNvbmZpZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdGF0ZS5haVBvd2VyZWRSZWNlaXB0cyBhcyBib29sZWFuO1xuICB9XG5cbiAgc3RhdGljIGhhc0ZlYXR1cmUoZmVhdHVyZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVNlbGVjdG9yKFtGZWF0dXJlQ29uZmlnU3RhdGVdLCAoc3RhdGU6IEZlYXR1cmVDb25maWcpID0+IHtcbiAgICAgIHJldHVybiAhIShzdGF0ZSBhcyBhbnkpW2ZlYXR1cmVdO1xuICAgIH0pO1xuICB9XG5cbiAgQEFjdGlvbihTZXRGZWF0dXJlQ29uZmlnKVxuICBzZXRGZWF0dXJlQ29uZmlnKFxuICAgIHsgcGF0Y2hTdGF0ZSB9OiBTdGF0ZUNvbnRleHQ8RmVhdHVyZUNvbmZpZz4sXG4gICAgcGF5bG9hZDogU2V0RmVhdHVyZUNvbmZpZ1xuICApIHtcbiAgICBwYXRjaFN0YXRlKHtcbiAgICAgIGFpUG93ZXJlZFJlY2VpcHRzOiBwYXlsb2FkLmNvbmZpZz8uYWlQb3dlcmVkUmVjZWlwdHMsXG4gICAgICBlbmFibGVMb2NhbFNpZ25VcDogcGF5bG9hZC5jb25maWc/LmVuYWJsZUxvY2FsU2lnblVwLFxuICAgIH0pO1xuICB9XG59XG4iXX0=